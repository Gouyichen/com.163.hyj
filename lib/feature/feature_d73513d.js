"use strict";nie.define("feature",function(){nie.config.copyRight.setWhite();var e=(nie.require("nie.util.PopDialog"),nie.require("nie.util.videoV2")),a=nie.require("nie.util.shareV5"),t=document.getElementById("JaudioSects"),s={page:function(){function e(e){clearTimeout(i),r=!0,$(".nav_box a").removeClass("curr"),e>1?$(".nav_box .nav_sects a").addClass("curr"):$(".nav_box a[data-page="+e+"]").addClass("curr"),$(".part").eq(e).addClass("show block").siblings(".part").removeClass("block"),i=setTimeout(function(){r=!1,$(".part").eq(e).siblings(".part").removeClass("show")},2e3)}var a=$(".ft-btn-wrap .btn"),n=new Swiper("#feature",{speed:1e3,loop:!0,autoplay:5e3,autoplayDisableOnInteraction:!1,observer:!0,observeParents:!0,effect:"fade",fade:{crossFade:!0},onSlideChangeStart:function(e){$(".feature_icon > div").eq(e.realIndex).addClass("show").siblings().removeClass("show"),a.eq(e.realIndex).addClass("cur").siblings().removeClass("cur")}});a.on("click",function(){var e=$(this).index();n.slideTo(e+1)});var i=(new Swiper("#videoSwiper",{direction:"vertical",pagination:".video_main .swiper-pagination",paginationClickable:!0,spaceBetween:30,mousewheelControl:!0,observer:!0,observeParents:!0}),new Swiper("#wallpaperSwiper",{direction:"vertical",pagination:".wallpaper_main .swiper-pagination",paginationClickable:!0,spaceBetween:30,lazyLoading:!0,mousewheelControl:!0,observer:!0,observeParents:!0}),null),r=!1,l=0;s.getUrlParam("page")&&s.getUrlParam("page")<4&&(l=s.getUrlParam("page")),$(document).ready(function(){e(l),$(".main").addClass("show")}),$(".nav_box a").click(function(){var a=$(this);a.hasClass("curr")||r||(l=a.data("page"),e(l),$.each($(".sects_audio"),function(e,a){-1==a.className.indexOf("pause")&&t.pause()}))}),$(window).on("mousewheel",function(a){r||(a.deltaY>0?0==l?l=0:l--:a.deltaY<0&&(7==l?l=0:l++),console.log(l),e(l))}),$(".video_main,.wallpaper_main").on("mousewheel",function(e){e.stopPropagation()}),$(".sects_nav span").click(function(){var e=$(this).data("part")||$(this).index()+1,a=$(".part_"+e);l=e-1,r||(clearTimeout(i),r=!0,a.addClass("show block").siblings(".part").removeClass("block"),i=setTimeout(function(){r=!1,a.siblings(".part").removeClass("show")},500),$.each($(".sects_audio"),function(e,a){-1==a.className.indexOf("pause")&&t.pause()}))}),$(".footer_btn").click(function(){$(".footer").toggleClass("show")})},mediaFn:function(){function a(e){var a="",t=e/60,s=parseInt(t);10>s&&(s="0"+s);var n=parseInt(e%60);return 10>n&&(n="0"+n),a=s+":"+n}lightbox.option({resizeDuration:500,wrapAround:!0});var s=!1;$(".media_nav a").click(function(){var e=$(this);if(!e.hasClass("curr")&&!s){var a=e.index(),t=$(".media_box > div.show"),n=$(".media_box > div").eq(a);s=!0,e.addClass("curr").siblings().removeClass("curr"),t.addClass("fadeOut"),n.addClass("show"),setTimeout(function(){s=!1,t.removeClass("show fadeOut fadeIn"),n.addClass("fadeIn")},500)}});var n=[{url:"https://hyj.res.netease.com/pc/gw/20190806153822/data/music01.mp3",name:"\u201c\u82b1\u4e0e\u5251\u201d\u5267\u60c5\u63d2\u66f2",singer:""},{url:"https://hyj.res.netease.com/pc/gw/20190806153822/data/music02.mp3",name:"\u201c\u82b1\u4e0e\u5251\u201d\u4e24\u751f\u620f \u6c11\u4e50\u7248",singer:""},{url:"https://hyj.res.netease.com/pc/gw/20190806153822/data/music03.mp3",name:"\u201c\u82b1\u4e0e\u5251\u201d\u4e24\u751f\u620f",singer:""}],i=0,r=0,l=0,o=1,c=!1,u=document.getElementById("audio");u.volume=o;var p="";$.each(n,function(e,a){0==e&&($(".music_name").text(a.name),u.src=a.url),p+="\n                    <li>\n                        <i>"+(e+1)+"</i>\n                        <span>"+a.name+"</span>\n                    </li>\n                "}),$(".music_list").html(p),u.addEventListener("canplay",function(){l=parseInt(u.duration),$("#duration").text(a(l))}),u.addEventListener("timeupdate",function(){if(r=parseInt(u.currentTime),!c){var e=parseInt(r/l*175-5);$(".music_progress i").css({left:e})}$("#currentTime").text(a(r))}),u.addEventListener("ended",function(){$(".player_next").trigger("click")}),$(".music_list").on("click","li",function(){i=$(this).index(),$(".music_name").text(n[i].name),u.src=n[i].url,$(".play_btn").removeClass("pauseState").addClass("playState"),u.play(),$(".changpian_box").addClass("ani"),$(".bgm_btn").hasClass("pause")||$(".bgm_btn").trigger("click"),setTimeout(function(){$(".changpian_box").removeClass("ani"),$(".changpian_box img").addClass("playing")},1e3)}),$(".play_btn").on("click",function(){var e=$(this);e.hasClass("pauseState")?(e.removeClass("pauseState").addClass("playState"),$(".changpian_box img").addClass("playing"),u.play(),$(".bgm_btn").hasClass("pause")||$(".bgm_btn").trigger("click")):(e.removeClass("playState").addClass("pauseState"),$(".changpian_box img").removeClass("playing"),u.pause())}),$(".player_btn").on("click",function(){$(this).hasClass("player_next")?i==n.length-1?i=0:i++:0==i?i=n.length-1:i--,$(".music_list li").eq(i).trigger("click")}),$(".volume_btn").on("click",function(){var e=$(this);e.hasClass("mute")?(e.removeClass("mute"),u.volume=1):(e.addClass("mute"),u.volume=0)}),$(".bgm_btn").on("click",function(){var e=$(this);e.hasClass("pause")?(e.removeClass("pause"),$("#bgm")[0].play(),$(".play_btn").hasClass("playState")&&$(".play_btn").trigger("click")):(e.addClass("pause"),$("#bgm")[0].pause())}),$(".sects_audio").on("click",function(){var e=$(this),a=e.data("audio");$(".play_btn").hasClass("playState")&&$(".play_btn").trigger("click"),$(".bgm_btn").hasClass("pause")||$(".bgm_btn").trigger("click"),e.hasClass("pause")?(e.removeClass("pause"),t.src=a,t.play()):(e.addClass("pause"),t.pause())}),$(".video_item,.sects_video").on("click",function(){$(".play_btn").hasClass("playState")&&$(".play_btn").trigger("click"),$(".bgm_btn").hasClass("pause")||$(".bgm_btn").trigger("click"),$(".sects_audio").hasClass("pause")||$(".sects_audio").trigger("click");{var a=$(this).data("mp4");e({fat:"#videoPopBox",width:"800",height:"450",movieUrl:a,HDmovieUrl:a,SHDmovieUrl:a,vtype:"",autoPlay:!0})}$("#videoPop").fadeIn()}),$(".close").on("click",function(){$(".mask").fadeOut(),$("#videoPopBox").html("")})},news:function(){function e(e){return new Date(e).getFullYear()+"."+(new Date(e).getMonth()+1)+"."+new Date(e).getDate()}$(".news_btn").click(function(){$(".news_pop").addClass("show")}),$(".news_pop .close").click(function(){$(".news_pop").removeClass("show")}),$.ajax({url:"https://sixhorse.game.163.com/news/outer/newslist.do",type:"GET",data:{contentkind:"29126",limit:10},dataType:"jsonp",success:function(a){var t="";if(!a.succ)return alert(a.msg);for(var s=0,n=a.result.length;n>s;s++){var i=a.result[s];t+='\n                            <li>\n                                <a href="'+(i.redirectUrl?i.redirectUrl:i.url)+'" title="'+i.title+'" target="_blank">'+i.title+"</a>\n                                <span>"+e(i.showtime)+"</span>\n                            </li>\n                        "}$("#newsList").html(t)},error:function(){}})},sects:function(){var e={shData:{value:[75,60,45,100,100],name:"\u5c11\u6797"}},a={radar:{name:{textStyle:{color:"#a78f8b",fontSize:"14px"}},nameGap:"6",indicator:[{text:"\u64cd\u4f5c\u96be\u5ea6",max:100},{text:"\u8f93\u51fa",max:100},{text:"\u63a7\u5236",max:100},{text:"\u8f85\u52a9",max:100},{text:"\u751f\u5b58",max:100}],center:["50%","50%"],axisLine:{lineStyle:{color:"rgba(138,137,137,0.3)"}},splitLine:{lineStyle:{color:"rgba(111,90,67,0.3)"}},splitArea:{areaStyle:{color:"transparent"}}},series:{type:"radar",symbolSize:"5",itemStyle:{color:"#93754d",borderColor:"#7b726f",borderWidth:"1"},lineStyle:{color:"#a98262"},areaStyle:{color:"rgba(255,253,228,0.66)"},silent:!0,data:[]}};$.each($(".sects_data"),function(){var t=$(this),s=t.attr("id");a.series.data[0]=e[s],echarts.init(document.getElementById(s)).setOption(a)})},share:function(){{var e=$("#share_pic").attr("src"),t=$("#share_desc").html(),s=$("#share_title").html();a({fat:"#share",type:1,defShow:[23,22,2,1,24],title:s,img:e,content:t})}$(".share_btn").click(function(){$(".share_mian").toggleClass("show")})},getUrlParam:function(e){var a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(a);return null!=t?t[2]:null},init:function(){s.page(),s.share(),s.mediaFn(),s.sects()}};$(function(){s.init()})});